(()=>{var e={};e.id=442,e.ids=[442],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},5765:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>o,pages:()=>m,routeModule:()=>p,tree:()=>c});var a=t(482),r=t(9108),i=t(2563),n=t.n(i),d=t(8300),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(s,l);let c=["",{children:["dashboard",{children:["campaigns",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4243)),"/Users/luizgustavovincenzi/ai-projects/CriaCore/criacore-1/src/app/dashboard/campaigns/[id]/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,383)),"/Users/luizgustavovincenzi/ai-projects/CriaCore/criacore-1/src/app/dashboard/campaigns/[id]/layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4699)),"/Users/luizgustavovincenzi/ai-projects/CriaCore/criacore-1/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2137)),"/Users/luizgustavovincenzi/ai-projects/CriaCore/criacore-1/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,8206)),"/Users/luizgustavovincenzi/ai-projects/CriaCore/criacore-1/src/app/not-found.tsx"]}],m=["/Users/luizgustavovincenzi/ai-projects/CriaCore/criacore-1/src/app/dashboard/campaigns/[id]/page.tsx"],o="/dashboard/campaigns/[id]/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/campaigns/[id]/page",pathname:"/dashboard/campaigns/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1481:(e,s,t)=>{Promise.resolve().then(t.bind(t,195))},5303:()=>{},195:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var a=t(2295),r=t(3729),i=t(2254),n=t(783),d=t.n(n),l=t(6257);function c({params:e}){let s=(0,i.useRouter)(),{user:t}=(0,l.useSupabase)(),[n,c]=(0,r.useState)(null),[m,o]=(0,r.useState)(null),[x,p]=(0,r.useState)(!0),[u,g]=(0,r.useState)(null),[h,y]=(0,r.useState)(!1),[f,j]=(0,r.useState)(null),[b,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!t){s.push("/auth/login");return}(async()=>{try{let e=t.user_metadata?.user_type||null;c(e),N(e)}catch(e){console.error("Error fetching user data:",e),g("Erro ao carregar dados do usu\xe1rio"),p(!1)}})()},[t,s,e.id]);let N=async s=>{try{p(!0),g(null);let a=await fetch(`/api/campaigns/${e.id}`),r=await a.json();if(!a.ok)throw Error(r.error||"Erro ao carregar campanha");if(o(r.campaign),"creator"===s&&r.campaign.participations){let e=r.campaign.participations.find(e=>e.creator_id===t?.id);e&&(y(!0),j(e))}}catch(e){console.error("Error fetching campaign details:",e),g(e.message||"Erro ao carregar detalhes da campanha")}finally{p(!1)}},w=async()=>{try{v(!0),g(null);let s=await fetch("/api/participations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaign_id:e.id})}),t=await s.json();if(!s.ok)throw Error(t.error||"Erro ao participar da campanha");y(!0),j(t.participation),N(n)}catch(e){console.error("Error joining campaign:",e),g(e.message||"Erro ao participar da campanha")}finally{v(!1)}},_=e=>{let s=new Date(e);return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(s)};if(x)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-16 h-16 border-t-4 border-primary border-solid rounded-full animate-spin"})});if(u||!m)return a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:a.jsx("div",{className:"flex",children:(0,a.jsxs)("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm text-red-700",children:u||"Campanha n\xe3o encontrada"}),a.jsx("div",{className:"mt-4",children:a.jsx(d(),{href:"/dashboard/campaigns",className:"text-sm font-medium text-primary hover:text-primary-dark",children:"Voltar para campanhas"})})]})})});let C="string"==typeof m.rules?JSON.parse(m.rules):m.rules,q="string"==typeof m.requirements?JSON.parse(m.requirements):m.requirements;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"md:flex md:items-center md:justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate mr-3",children:m.title}),a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${(e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"draft":default:return"bg-gray-100 text-gray-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800"}})(m.status)}`,children:(e=>{switch(e){case"active":return"Ativa";case"draft":return"Rascunho";case"completed":return"Conclu\xedda";case"cancelled":return"Cancelada";default:return e}})(m.status)})]}),"creator"===n&&m.brands&&a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:m.brands.name})]}),(0,a.jsxs)("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:["brand"===n&&"draft"===m.status&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{type:"button",onClick:()=>s.push(`/dashboard/campaigns/${e.id}/edit`),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Editar"}),a.jsx("button",{type:"button",onClick:async()=>{try{let s=await fetch(`/api/campaigns/${e.id}/publish`,{method:"POST"});if(!s.ok){let e=await s.json();throw Error(e.error||"Erro ao publicar campanha")}N(n)}catch(e){alert(e.message||"Erro ao publicar campanha")}},className:"ml-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Publicar"})]}),"creator"===n&&"active"===m.status&&!h&&a.jsx("button",{type:"button",onClick:w,disabled:b,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:b?"Participando...":"Participar da Campanha"}),"creator"===n&&h&&a.jsx("div",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-primary bg-primary-light bg-opacity-20",children:"Voc\xea est\xe1 participando"})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[(0,a.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Detalhes da Campanha"}),a.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Informa\xe7\xf5es e requisitos da campanha"})]}),a.jsx("div",{className:"border-t border-gray-200",children:(0,a.jsxs)("dl",{children:[(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Descri\xe7\xe3o"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:m.description})]}),(0,a.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Per\xedodo"}),(0,a.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[_(m.start_date)," at\xe9 ",_(m.end_date)]})]}),m.budget&&(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Or\xe7amento"}),(0,a.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:["R$ ",parseFloat(m.budget).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),m.objectives&&m.objectives.length>0&&(0,a.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Objetivos"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:a.jsx("ul",{className:"border border-gray-200 rounded-md divide-y divide-gray-200",children:m.objectives.map((e,s)=>a.jsx("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:(0,a.jsxs)("div",{className:"w-0 flex-1 flex items-center",children:[a.jsx("svg",{className:"flex-shrink-0 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),a.jsx("span",{className:"ml-2 flex-1 w-0 truncate",children:e})]})},s))})})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[a.jsx("div",{className:"px-4 py-5 sm:px-6",children:a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Regras e Requisitos"})}),a.jsx("div",{className:"border-t border-gray-200",children:(0,a.jsxs)("dl",{children:[C&&(0,a.jsxs)(a.Fragment,{children:[C.min_followers&&(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"M\xednimo de Seguidores"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:C.min_followers.toLocaleString()})]}),C.required_platforms&&C.required_platforms.length>0&&(0,a.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Plataformas Requeridas"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:C.required_platforms.map(e=>a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 capitalize",children:e},e))})})]}),C.content_requirements&&(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Requisitos de Conte\xfado"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:C.content_requirements})]}),C.hashtags&&C.hashtags.length>0&&(0,a.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Hashtags"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:C.hashtags.map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["#",e]},e))})})]})]}),q&&(0,a.jsxs)(a.Fragment,{children:[q.content_type&&(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Tipo de Conte\xfado"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 capitalize",children:"any"===q.content_type?"Qualquer":q.content_type})]}),q.min_posts&&(0,a.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"M\xednimo de Publica\xe7\xf5es"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:q.min_posts})]}),(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Cupons de Desconto"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:q.use_coupon?"Sim":"N\xe3o"})]})]})]})})]}),"creator"===n&&h&&f&&(0,a.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[a.jsx("div",{className:"px-4 py-5 sm:px-6",children:a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Sua Participa\xe7\xe3o"})}),a.jsx("div",{className:"border-t border-gray-200",children:(0,a.jsxs)("dl",{children:[(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${"active"===f.status?"bg-green-100 text-green-800":"pending"===f.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:"active"===f.status?"Ativa":"pending"===f.status?"Pendente":f.status})})]}),f.coupon_code&&(0,a.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Seu C\xf3digo de Cupom"}),(0,a.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:f.coupon_code}),a.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(f.coupon_code),alert("C\xf3digo copiado para a \xe1rea de transfer\xeancia!")},className:"ml-2 text-primary hover:text-primary-dark",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),a.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Compartilhe este c\xf3digo com seus seguidores para que eles possam utiliz\xe1-lo na marca."})]})]}),f.earnings>0&&(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Ganhos"}),(0,a.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:["R$ ",parseFloat(f.earnings).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})})]}),"brand"===n&&m.participations&&m.participations.length>0&&(0,a.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,a.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Participantes"}),a.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Criadores de conte\xfado participando desta campanha"})]}),a.jsx("div",{className:"border-t border-gray-200",children:a.jsx("ul",{className:"divide-y divide-gray-200",children:m.participations.map(e=>a.jsx("li",{className:"px-4 py-4 sm:px-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:e.creators?.profile_pic_url?a.jsx("img",{className:"h-10 w-10 rounded-full",src:e.creators.profile_pic_url,alt:e.creators.name}):a.jsx("svg",{className:"h-6 w-6 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.creators?.name||"Criador"}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Participando desde ",_(e.joined_at)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${"active"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:"active"===e.status?"Ativo":"pending"===e.status?"Pendente":e.status}),e.coupon_code&&a.jsx("div",{className:"ml-4 flex items-center text-sm text-gray-500",children:a.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:e.coupon_code})})]})]})},e.id))})})]})]})}},383:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n,generateStaticParams:()=>i});var a=t(5036);let r=(0,t(7890).eI)("https://bxnumrwmdqlepwoiwgzw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ4bnVtcndtZHFsZXB3b2l3Z3p3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDEwOTE2MjYsImV4cCI6MjA1NjY2NzYyNn0.LOSA4H_LEXn3V0bMlpBn1RUhOLoqe84JnAe5HQ5QM0k");async function i(){let{data:e}=await r.from("campaigns").select("id");return(e||[]).map(e=>({id:e.id.toString()}))}function n({children:e}){return a.jsx(a.Fragment,{children:e})}},4243:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(5036);let r=(0,t(6843).createProxy)(String.raw`/Users/luizgustavovincenzi/ai-projects/CriaCore/criacore-1/src/app/dashboard/campaigns/[id]/client-page.tsx`),{__esModule:i,$$typeof:n}=r,d=r.default;function l({params:e}){return a.jsx(d,{params:e})}}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[225,248,890,323],()=>t(5765));module.exports=a})();