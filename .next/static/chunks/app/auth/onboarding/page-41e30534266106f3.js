(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327],{1853:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var t=a(5155),r=a(2115),l=a(5695),n=a(2643),i=a(2401);function c(){let e=(0,l.useRouter)(),s=(0,l.useSearchParams)(),{user:a}=(0,i._)(),[c,o]=(0,r.useState)(s.get("type")||"brand"),[d,u]=(0,r.useState)(1),[m,x]=(0,r.useState)(!1),[h,b]=(0,r.useState)(null),[p,j]=(0,r.useState)(""),[v,g]=(0,r.useState)(""),[f,y]=(0,r.useState)(""),[N,k]=(0,r.useState)(""),[C,S]=(0,r.useState)([]),[w,_]=(0,r.useState)({instagram:"",tiktok:"",youtube:""});(0,r.useEffect)(()=>{a||e.push("/auth/login")},[a,e]);let F=e=>{C.includes(e)?S(C.filter(s=>s!==e)):S([...C,e])},P=()=>{u(d+1)},B=()=>{u(d-1)},E=async s=>{s.preventDefault();try{if(x(!0),b(null),"brand"===c){let{error:e}=await n.N.from("brands").update({category:p,description:v,website:f,onboarding_completed:!0}).eq("id",null==a?void 0:a.id);if(e)throw e}else{let{error:e}=await n.N.from("creators").update({bio:N,content_categories:C,social_links:w,onboarding_completed:!0}).eq("id",null==a?void 0:a.id);if(e)throw e}e.push("/dashboard")}catch(e){b(e.message||"Ocorreu um erro ao salvar seu perfil")}finally{x(!1)}};return a?(0,t.jsx)("div",{className:"min-h-screen bg-background py-12",children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h2",{className:"text-3xl font-extrabold text-text",children:"Vamos configurar seu perfil"}),(0,t.jsx)("p",{className:"mt-2 text-lg text-gray-600",children:"brand"===c?"Conte-nos mais sobre sua marca para conect\xe1-la com os criadores certos.":"Conte-nos mais sobre voc\xea para conect\xe1-lo com as marcas certas."})]}),(0,t.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,t.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[h&&(0,t.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsx)("p",{className:"text-sm text-red-700",children:h})})})}),(0,t.jsx)("form",{onSubmit:E,children:"brand"===c?(0,t.jsxs)(t.Fragment,{children:[1===d&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Informa\xe7\xf5es b\xe1sicas"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"brandCategory",className:"block text-sm font-medium text-gray-700",children:"Categoria do neg\xf3cio"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsxs)("select",{id:"brandCategory",name:"brandCategory",value:p,onChange:e=>j(e.target.value),className:"input-field",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Selecione uma categoria"}),(0,t.jsx)("option",{value:"restaurant",children:"Restaurante"}),(0,t.jsx)("option",{value:"cafe",children:"Caf\xe9"}),(0,t.jsx)("option",{value:"bar",children:"Bar"}),(0,t.jsx)("option",{value:"retail",children:"Varejo"}),(0,t.jsx)("option",{value:"service",children:"Servi\xe7os"}),(0,t.jsx)("option",{value:"beauty",children:"Beleza e Est\xe9tica"}),(0,t.jsx)("option",{value:"fitness",children:"Fitness e Sa\xfade"}),(0,t.jsx)("option",{value:"other",children:"Outro"})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"brandDescription",className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o do seu neg\xf3cio"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("textarea",{id:"brandDescription",name:"brandDescription",rows:4,value:v,onChange:e=>g(e.target.value),className:"input-field",placeholder:"Descreva seu neg\xf3cio, produtos ou servi\xe7os...",required:!0})})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{type:"button",onClick:P,className:"btn-primary",children:"Pr\xf3ximo"})})]}),2===d&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Presen\xe7a online"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"brandWebsite",className:"block text-sm font-medium text-gray-700",children:"Website"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{id:"brandWebsite",name:"brandWebsite",type:"url",value:f,onChange:e=>y(e.target.value),className:"input-field",placeholder:"https://www.seusite.com.br"})}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Opcional, mas recomendado"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("button",{type:"button",onClick:B,className:"text-gray-600 hover:text-gray-900",children:"Voltar"}),(0,t.jsx)("button",{type:"submit",disabled:m,className:"btn-primary",children:m?"Salvando...":"Concluir"})]})]})]}):(0,t.jsxs)(t.Fragment,{children:[1===d&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Seu perfil"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"creatorBio",className:"block text-sm font-medium text-gray-700",children:"Biografia"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("textarea",{id:"creatorBio",name:"creatorBio",rows:4,value:N,onChange:e=>k(e.target.value),className:"input-field",placeholder:"Conte um pouco sobre voc\xea e seu conte\xfado...",required:!0})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categorias de conte\xfado"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["Gastronomia","Moda","Beleza","Fitness","Viagem","Lifestyle","Tecnologia","Jogos","Educa\xe7\xe3o","Finan\xe7as"].map(e=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",id:"category-".concat(e),checked:C.includes(e),onChange:()=>F(e),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),(0,t.jsx)("label",{htmlFor:"category-".concat(e),className:"ml-2 text-sm text-gray-700",children:e})]},e))})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{type:"button",onClick:P,className:"btn-primary",children:"Pr\xf3ximo"})})]}),2===d&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Redes sociais"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"instagram",className:"block text-sm font-medium text-gray-700",children:"Instagram"}),(0,t.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"@"})}),(0,t.jsx)("input",{type:"text",name:"instagram",id:"instagram",value:w.instagram,onChange:e=>_({...w,instagram:e.target.value}),className:"input-field pl-7",placeholder:"seu_perfil"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"tiktok",className:"block text-sm font-medium text-gray-700",children:"TikTok"}),(0,t.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"@"})}),(0,t.jsx)("input",{type:"text",name:"tiktok",id:"tiktok",value:w.tiktok,onChange:e=>_({...w,tiktok:e.target.value}),className:"input-field pl-7",placeholder:"seu_perfil"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"youtube",className:"block text-sm font-medium text-gray-700",children:"YouTube"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{type:"text",name:"youtube",id:"youtube",value:w.youtube,onChange:e=>_({...w,youtube:e.target.value}),className:"input-field",placeholder:"https://youtube.com/c/seucanal"})})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("button",{type:"button",onClick:B,className:"text-gray-600 hover:text-gray-900",children:"Voltar"}),(0,t.jsx)("button",{type:"submit",disabled:m,className:"btn-primary",children:m?"Salvando...":"Concluir"})]})]})]})})]})})]})}):null}function o(){return(0,t.jsx)("div",{className:"min-h-screen bg-background flex flex-col justify-center items-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Carregando..."}),(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})]})})}function d(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(o,{}),children:(0,t.jsx)(c,{})})}},2401:(e,s,a)=>{"use strict";a.d(s,{SupabaseProvider:()=>c,_:()=>i});var t=a(5155),r=a(2115),l=a(2643);let n=(0,r.createContext)({user:null,session:null,isLoading:!0}),i=()=>(0,r.useContext)(n);function c(e){let{children:s}=e,[a,i]=(0,r.useState)(null),[c,o]=(0,r.useState)(null),[d,u]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let{data:{subscription:e}}=l.N.auth.onAuthStateChange((e,s)=>{var a;o(s),i(null!==(a=null==s?void 0:s.user)&&void 0!==a?a:null),u(!1)});return l.N.auth.getSession().then(e=>{var s;let{data:{session:a}}=e;o(a),i(null!==(s=null==a?void 0:a.user)&&void 0!==s?s:null),u(!1)}),()=>{e.unsubscribe()}},[]),(0,t.jsx)(n.Provider,{value:{user:a,session:c,isLoading:d},children:s})}},2643:(e,s,a)=>{"use strict";a.d(s,{N:()=>t});let t=(0,a(6302).UU)("https://example.supabase.co","example-anon-key")},5218:(e,s,a)=>{Promise.resolve().then(a.bind(a,1853))},5695:(e,s,a)=>{"use strict";var t=a(8999);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})}},e=>{var s=s=>e(e.s=s);e.O(0,[302,441,684,358],()=>s(5218)),_N_E=e.O()}]);