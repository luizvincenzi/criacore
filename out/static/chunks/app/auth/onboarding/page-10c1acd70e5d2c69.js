(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[990],{3798:function(e,t,s){Promise.resolve().then(s.bind(s,6418))},6418:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var a=s(7437),l=s(2265),r=s(4033),n=s(1097),i=s(9113);function o(){let e=(0,r.useRouter)(),t=(0,r.useSearchParams)(),{user:s}=(0,i.useSupabase)(),[o,c]=(0,l.useState)(t.get("type")||"brand"),[d,u]=(0,l.useState)(1),[m,x]=(0,l.useState)(!1),[h,p]=(0,l.useState)(null),[b,v]=(0,l.useState)(""),[g,j]=(0,l.useState)(""),[f,y]=(0,l.useState)(""),[N,k]=(0,l.useState)(""),[C,S]=(0,l.useState)([]),[w,F]=(0,l.useState)({instagram:"",tiktok:"",youtube:""});(0,l.useEffect)(()=>{s||e.push("/auth/login")},[s,e]);let _=e=>{C.includes(e)?S(C.filter(t=>t!==e)):S([...C,e])},O=()=>{u(d+1)},B=()=>{u(d-1)},E=async t=>{t.preventDefault();try{if(x(!0),p(null),"brand"===o){let{error:e}=await n.O.from("brands").update({category:b,description:g,website:f,onboarding_completed:!0}).eq("id",null==s?void 0:s.id);if(e)throw e}else{let{error:e}=await n.O.from("creators").update({bio:N,content_categories:C,social_links:w,onboarding_completed:!0}).eq("id",null==s?void 0:s.id);if(e)throw e}e.push("/dashboard")}catch(e){p(e.message||"Ocorreu um erro ao salvar seu perfil")}finally{x(!1)}};return s?(0,a.jsx)("div",{className:"min-h-screen bg-background py-12",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-extrabold text-text",children:"Vamos configurar seu perfil"}),(0,a.jsx)("p",{className:"mt-2 text-lg text-gray-600",children:"brand"===o?"Conte-nos mais sobre sua marca para conect\xe1-la com os criadores certos.":"Conte-nos mais sobre voc\xea para conect\xe1-lo com as marcas certas."})]}),(0,a.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[h&&(0,a.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("p",{className:"text-sm text-red-700",children:h})})})}),(0,a.jsx)("form",{onSubmit:E,children:"brand"===o?(0,a.jsxs)(a.Fragment,{children:[1===d&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Informa\xe7\xf5es b\xe1sicas"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"brandCategory",className:"block text-sm font-medium text-gray-700",children:"Categoria do neg\xf3cio"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsxs)("select",{id:"brandCategory",name:"brandCategory",value:b,onChange:e=>v(e.target.value),className:"input-field",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Selecione uma categoria"}),(0,a.jsx)("option",{value:"restaurant",children:"Restaurante"}),(0,a.jsx)("option",{value:"cafe",children:"Caf\xe9"}),(0,a.jsx)("option",{value:"bar",children:"Bar"}),(0,a.jsx)("option",{value:"retail",children:"Varejo"}),(0,a.jsx)("option",{value:"service",children:"Servi\xe7os"}),(0,a.jsx)("option",{value:"beauty",children:"Beleza e Est\xe9tica"}),(0,a.jsx)("option",{value:"fitness",children:"Fitness e Sa\xfade"}),(0,a.jsx)("option",{value:"other",children:"Outro"})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"brandDescription",className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o do seu neg\xf3cio"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("textarea",{id:"brandDescription",name:"brandDescription",rows:4,value:g,onChange:e=>j(e.target.value),className:"input-field",placeholder:"Descreva seu neg\xf3cio, produtos ou servi\xe7os...",required:!0})})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{type:"button",onClick:O,className:"btn-primary",children:"Pr\xf3ximo"})})]}),2===d&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Presen\xe7a online"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"brandWebsite",className:"block text-sm font-medium text-gray-700",children:"Website"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{id:"brandWebsite",name:"brandWebsite",type:"url",value:f,onChange:e=>y(e.target.value),className:"input-field",placeholder:"https://www.seusite.com.br"})}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Opcional, mas recomendado"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("button",{type:"button",onClick:B,className:"text-gray-600 hover:text-gray-900",children:"Voltar"}),(0,a.jsx)("button",{type:"submit",disabled:m,className:"btn-primary",children:m?"Salvando...":"Concluir"})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[1===d&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Seu perfil"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"creatorBio",className:"block text-sm font-medium text-gray-700",children:"Biografia"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("textarea",{id:"creatorBio",name:"creatorBio",rows:4,value:N,onChange:e=>k(e.target.value),className:"input-field",placeholder:"Conte um pouco sobre voc\xea e seu conte\xfado...",required:!0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categorias de conte\xfado"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["Gastronomia","Moda","Beleza","Fitness","Viagem","Lifestyle","Tecnologia","Jogos","Educa\xe7\xe3o","Finan\xe7as"].map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"category-".concat(e),checked:C.includes(e),onChange:()=>_(e),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"category-".concat(e),className:"ml-2 text-sm text-gray-700",children:e})]},e))})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{type:"button",onClick:O,className:"btn-primary",children:"Pr\xf3ximo"})})]}),2===d&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Redes sociais"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"instagram",className:"block text-sm font-medium text-gray-700",children:"Instagram"}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"@"})}),(0,a.jsx)("input",{type:"text",name:"instagram",id:"instagram",value:w.instagram,onChange:e=>F({...w,instagram:e.target.value}),className:"input-field pl-7",placeholder:"seu_perfil"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"tiktok",className:"block text-sm font-medium text-gray-700",children:"TikTok"}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"@"})}),(0,a.jsx)("input",{type:"text",name:"tiktok",id:"tiktok",value:w.tiktok,onChange:e=>F({...w,tiktok:e.target.value}),className:"input-field pl-7",placeholder:"seu_perfil"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"youtube",className:"block text-sm font-medium text-gray-700",children:"YouTube"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{type:"text",name:"youtube",id:"youtube",value:w.youtube,onChange:e=>F({...w,youtube:e.target.value}),className:"input-field",placeholder:"https://youtube.com/c/seucanal"})})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("button",{type:"button",onClick:B,className:"text-gray-600 hover:text-gray-900",children:"Voltar"}),(0,a.jsx)("button",{type:"submit",disabled:m,className:"btn-primary",children:m?"Salvando...":"Concluir"})]})]})]})})]})})]})}):null}},1097:function(e,t,s){"use strict";s.d(t,{O:function(){return a}});let a=(0,s(4566).eI)("https://your-project.supabase.co","your-anon-key")},9113:function(e,t,s){"use strict";s.r(t),s.d(t,{SupabaseProvider:function(){return o},useSupabase:function(){return i}});var a=s(7437),l=s(2265),r=s(1097);let n=(0,l.createContext)({user:null,session:null,isLoading:!0}),i=()=>(0,l.useContext)(n);function o(e){let{children:t}=e,[s,i]=(0,l.useState)(null),[o,c]=(0,l.useState)(null),[d,u]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{let{data:{subscription:e}}=r.O.auth.onAuthStateChange((e,t)=>{var s;c(t),i(null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null),u(!1)});return r.O.auth.getSession().then(e=>{var t;let{data:{session:s}}=e;c(s),i(null!==(t=null==s?void 0:s.user)&&void 0!==t?t:null),u(!1)}),()=>{e.unsubscribe()}},[]),(0,a.jsx)(n.Provider,{value:{user:s,session:o,isLoading:d},children:t})}},4033:function(e,t,s){e.exports=s(5313)}},function(e){e.O(0,[382,971,938,744],function(){return e(e.s=3798)}),_N_E=e.O()}]);