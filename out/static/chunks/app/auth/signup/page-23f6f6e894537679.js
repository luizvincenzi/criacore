(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{4529:function(e,t,a){Promise.resolve().then(a.bind(a,9971))},9971:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=a(7437),r=a(2265),n=a(4033),i=a(1396),l=a.n(i),o=a(1097),d=a(9113);function c(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)(),{user:a}=(0,d.useSupabase)(),[i,c]=(0,r.useState)(t.get("type")||"brand"),[u,m]=(0,r.useState)(""),[h,x]=(0,r.useState)(""),[p,f]=(0,r.useState)(""),[b,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[j,w]=(0,r.useState)(null);(0,r.useEffect)(()=>{a&&e.push("/dashboard")},[a,e]);let N=async t=>{if(t.preventDefault(),h!==p){w("As senhas n\xe3o coincidem");return}try{y(!0),w(null);let{data:t,error:a}=await o.O.auth.signUp({email:u,password:h,options:{data:{name:b,user_type:i}}});if(a)throw a;if(t.user){if("brand"===i){let{error:e}=await o.O.from("brands").insert([{id:t.user.id,name:b,email:u}]);if(e)throw e}else{let{error:e}=await o.O.from("creators").insert([{id:t.user.id,name:b,email:u}]);if(e)throw e}}e.push("/auth/onboarding?type=".concat(i))}catch(e){w(e.message||"Ocorreu um erro durante o cadastro")}finally{y(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,s.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-text",children:"Crie sua conta"}),(0,s.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Ou"," ",(0,s.jsx)(l(),{href:"/auth/login",className:"font-medium text-primary hover:text-primary-dark",children:"fa\xe7a login se j\xe1 possui uma conta"})]})]}),(0,s.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,s.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,s.jsxs)("div",{className:"flex justify-center space-x-4 mb-6",children:[(0,s.jsx)("button",{type:"button",className:"px-4 py-2 rounded-md ".concat("brand"===i?"bg-primary text-white":"bg-gray-200 text-gray-700"),onClick:()=>c("brand"),children:"Sou uma marca"}),(0,s.jsx)("button",{type:"button",className:"px-4 py-2 rounded-md ".concat("creator"===i?"bg-primary text-white":"bg-gray-200 text-gray-700"),onClick:()=>c("creator"),children:"Sou um criador"})]}),j&&(0,s.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:(0,s.jsx)("div",{className:"flex",children:(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("p",{className:"text-sm text-red-700",children:j})})})}),(0,s.jsxs)("form",{className:"space-y-6",onSubmit:N,children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Nome ","brand"===i?"da empresa":"completo"]}),(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)("input",{id:"name",name:"name",type:"text",required:!0,value:b,onChange:e=>g(e.target.value),className:"input-field",placeholder:"brand"===i?"Nome da sua empresa":"Seu nome completo"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:u,onChange:e=>m(e.target.value),className:"input-field",placeholder:"seu@email.com"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Senha"}),(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:h,onChange:e=>x(e.target.value),className:"input-field",placeholder:"M\xednimo de 6 caracteres"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirme a senha"}),(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:p,onChange:e=>f(e.target.value),className:"input-field",placeholder:"Digite a senha novamente"})})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:v,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:v?"Cadastrando...":"Cadastrar"})})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Ou continue com"})})]}),(0,s.jsxs)("div",{className:"mt-6 grid grid-cols-3 gap-3",children:[(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",onClick:()=>{o.O.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/auth/callback"),queryParams:{user_type:i}}})},children:(0,s.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,s.jsx)("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"})})})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",onClick:()=>{o.O.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:"".concat(window.location.origin,"/auth/callback"),queryParams:{user_type:i}}})},children:(0,s.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",onClick:()=>{o.O.auth.signInWithOAuth({provider:"twitter",options:{redirectTo:"".concat(window.location.origin,"/auth/callback"),queryParams:{user_type:i}}})},children:(0,s.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,s.jsx)("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})})})]})]})]})})]})}},1097:function(e,t,a){"use strict";a.d(t,{O:function(){return s}});let s=(0,a(4566).eI)("https://your-project.supabase.co","your-anon-key")},9113:function(e,t,a){"use strict";a.r(t),a.d(t,{SupabaseProvider:function(){return o},useSupabase:function(){return l}});var s=a(7437),r=a(2265),n=a(1097);let i=(0,r.createContext)({user:null,session:null,isLoading:!0}),l=()=>(0,r.useContext)(i);function o(e){let{children:t}=e,[a,l]=(0,r.useState)(null),[o,d]=(0,r.useState)(null),[c,u]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let{data:{subscription:e}}=n.O.auth.onAuthStateChange((e,t)=>{var a;d(t),l(null!==(a=null==t?void 0:t.user)&&void 0!==a?a:null),u(!1)});return n.O.auth.getSession().then(e=>{var t;let{data:{session:a}}=e;d(a),l(null!==(t=null==a?void 0:a.user)&&void 0!==t?t:null),u(!1)}),()=>{e.unsubscribe()}},[]),(0,s.jsx)(i.Provider,{value:{user:a,session:o,isLoading:c},children:t})}},1396:function(e,t,a){e.exports=a(5250)},4033:function(e,t,a){e.exports=a(5313)}},function(e){e.O(0,[382,250,971,938,744],function(){return e(e.s=4529)}),_N_E=e.O()}]);